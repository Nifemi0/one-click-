(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var a=r(5155);function i(e){let{className:t="",variant:r="default",size:i="default",children:n,...o}=e,c="".concat("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50"," ").concat({default:"bg-orange-500 text-white hover:bg-orange-600",outline:"border border-gray-600 text-gray-300 hover:bg-gray-800 hover:text-white",ghost:"text-white hover:bg-gray-800"}[r]," ").concat({default:"h-9 px-4 py-2",sm:"h-8 px-3 py-1.5",lg:"h-10 px-6 py-2"}[i]," ").concat(t);return(0,a.jsx)("button",{className:c,...o,children:n})}r(2115)},1148:(e,t,r)=>{"use strict";r.d(t,{WalletProvider:()=>c,v:()=>o});var a=r(5155),i=r(2115);let n=(0,i.createContext)(void 0);function o(){let e=(0,i.useContext)(n);if(void 0===e)throw Error("useWallet must be used within a WalletProvider");return e}function c(e){let{children:t}=e,[r,o]=(0,i.useState)(()=>"true"===localStorage.getItem("walletConnected")),[c,s]=(0,i.useState)(()=>localStorage.getItem("walletAddress")),[l,d]=(0,i.useState)(()=>{{let e=localStorage.getItem("walletChainId");return e?parseInt(e,10):null}});(0,i.useEffect)(()=>{(async()=>{if(void 0!==window.ethereum&&r&&c)try{let e=await window.ethereum.request({method:"eth_accounts"});if(0===e.length||e[0]!==c)h();else{let e=await window.ethereum.request({method:"eth_chainId"}),t=parseInt(e,16);d(t),localStorage.setItem("walletChainId",t.toString())}}catch(e){console.error("Error checking wallet connection:",e),h()}})()},[r,c]);let u=async()=>{try{if(void 0!==window.ethereum){let e=await window.ethereum.request({method:"eth_requestAccounts"});if(e.length>0){let t=e[0],r=await window.ethereum.request({method:"eth_chainId"}),a=parseInt(r,16);s(t),o(!0),d(a),localStorage.setItem("walletConnected","true"),localStorage.setItem("walletAddress",t),localStorage.setItem("walletChainId",a.toString()),window.ethereum.on("accountsChanged",e=>{0===e.length?h():s(e[0])}),window.ethereum.on("chainChanged",e=>{d(parseInt(e,16))})}}else alert("Please install MetaMask to use this app!")}catch(e){console.error("Error connecting wallet:",e),alert("Failed to connect wallet. Please try again.")}},h=()=>{o(!1),s(null),d(null),localStorage.removeItem("walletConnected"),localStorage.removeItem("walletAddress"),localStorage.removeItem("walletChainId")};return(0,a.jsx)(n.Provider,{value:{isConnected:r,address:c,chainId:l,connect:u,disconnect:h},children:t})}},4339:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E,dynamic:()=>N});var a=r(5155),i=r(2115),n=r(285),o=r(7924),c=r(5525),s=r(7809),l=r(1148);let d="http://5.231.28.234:3001";class u{static async makeRequest(e){try{let t=await fetch("".concat(d).concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Error fetching ".concat(e,":"),t),t}}static async getMarketplaceItems(e){try{let t=await this.makeRequest("/api/real-contracts/templates");if(!t.success||!t.data.templates)throw Error("Invalid response format from templates API");let r=t.data.templates.map(e=>({id:e.name.toLowerCase().replace(/\s+/g,"-"),name:e.name,description:"Compiled ".concat(e.name," contract with ABI and bytecode"),category:e.type||"Security",difficulty:"Advanced",securityLevel:"High",price:"0.08",priceInEth:.08,rating:4.8,users:Math.floor(1e3*Math.random())+100,views:Math.floor(5e3*Math.random())+500,tags:["Security","Compiled","Deployable"],lastUpdated:new Date().toISOString(),author:"OneClick Security",features:["Smart Contract","ABI","Bytecode","Deployable"],deploymentTime:"2-3 minutes",gasEstimate:15e4,preview:"Ready-to-deploy ".concat(e.name," contract"),contractCode:e.sourceCode||"// Contract code available"}));if((null==e?void 0:e.category)&&"all"!==e.category&&(r=r.filter(t=>t.category===e.category)),(null==e?void 0:e.difficulty)&&"all"!==e.difficulty&&(r=r.filter(t=>t.difficulty===e.difficulty)),(null==e?void 0:e.difficulty)&&"all"!==e.difficulty&&(r=r.filter(t=>t.difficulty===e.difficulty)),(null==e?void 0:e.securityLevel)&&"all"!==e.securityLevel&&(r=r.filter(t=>t.securityLevel===e.securityLevel)),null==e?void 0:e.search){let t=e.search.toLowerCase();r=r.filter(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.tags.some(e=>e.toLowerCase().includes(t)))}return(null==e?void 0:e.priceRange)&&(r=r.filter(t=>t.priceInEth>=e.priceRange.min&&t.priceInEth<=e.priceRange.max)),r}catch(r){console.error("Failed to fetch marketplace items:",r),console.log("\uD83D\uDD04 Falling back to real compiled contracts");let t=[{id:"security-trap",name:"SecurityTrap",description:"Advanced security trap with comprehensive attack detection and response mechanisms",category:"Security",difficulty:"Advanced",securityLevel:"High",price:"0.08",priceInEth:.08,rating:4.9,reviewCount:67,downloads:342,tags:["Security","Advanced","Attack Detection","Response"],lastUpdated:"1 day ago",author:"OneClick Security",features:["Attack Detection","Automated Response","Event Logging","Emergency Shutdown"],deploymentTime:"2-3 minutes",preview:"Advanced security trap with real-time threat detection",contractCode:'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.20;\n\nimport "@openzeppelin/contracts/utils/ReentrancyGuard.sol";\nimport "@openzeppelin/contracts/access/Ownable.sol";\n\ncontract SecurityTrap is ReentrancyGuard, Ownable {\n  // Real compiled contract code\n}'},{id:"advanced-honeypot",name:"AdvancedHoneypot",description:"Sophisticated honeypot that captures and analyzes attack patterns",category:"Honeypot",difficulty:"Advanced",securityLevel:"High",price:"0.12",priceInEth:.12,rating:4.8,reviewCount:45,downloads:289,tags:["Honeypot","Advanced","Attack Analysis","Pattern Detection"],lastUpdated:"2 days ago",author:"OneClick Security",features:["Fund Capture","Attack Pattern Analysis","Advanced Monitoring","Automated Response"],deploymentTime:"3-4 minutes",preview:"Advanced honeypot with intelligent attack pattern recognition",contractCode:'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.20;\n\nimport "@openzeppelin/contracts/utils/ReentrancyGuard.sol";\nimport "@openzeppelin/contracts/access/Ownable.sol";\n\ncontract AdvancedHoneypot is ReentrancyGuard, Ownable {\n  // Real compiled contract code\n}'},{id:"drosera-registry",name:"DroseraRegistry",description:"Central registry for managing and tracking all deployed security traps",category:"Registry",difficulty:"Intermediate",securityLevel:"High",price:"0.06",priceInEth:.06,rating:4.7,reviewCount:34,downloads:203,tags:["Registry","Intermediate","Management","Tracking"],lastUpdated:"3 days ago",author:"OneClick Security",features:["Trap Registration","Status Tracking","Performance Metrics","Centralized Management"],deploymentTime:"2-3 minutes",preview:"Central registry for comprehensive trap management",contractCode:'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.20;\n\nimport "@openzeppelin/contracts/access/Ownable.sol";\n\ncontract DroseraRegistry is Ownable {\n  // Real compiled contract code\n}'},{id:"flash-loan-protection",name:"FlashLoanProtection",description:"Real-time protection against flash loan attacks with instant blocking",category:"Protection",difficulty:"Advanced",securityLevel:"High",price:"0.10",priceInEth:.1,rating:4.9,reviewCount:56,downloads:312,tags:["Flash Loan","Advanced","Protection","Real-time"],lastUpdated:"1 week ago",author:"OneClick Security",features:["Flash Loan Detection","Instant Blocking","Real-time Monitoring","Attack Prevention"],deploymentTime:"3-4 minutes",preview:"Real-time flash loan attack protection",contractCode:'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.20;\n\nimport "@openzeppelin/contracts/utils/ReentrancyGuard.sol";\nimport "@openzeppelin/contracts/access/Ownable.sol";\n\ncontract FlashLoanProtection is ReentrancyGuard, Ownable {\n  // Real compiled contract code\n}'},{id:"mev-protection",name:"MEVProtection",description:"Comprehensive MEV protection with transaction ordering and sandwich attack prevention",category:"MEV Protection",difficulty:"Advanced",securityLevel:"High",price:"0.15",priceInEth:.15,rating:4.8,reviewCount:42,downloads:267,tags:["MEV","Advanced","Protection","Sandwich Prevention"],lastUpdated:"4 days ago",author:"OneClick Security",features:["MEV Detection","Sandwich Prevention","Transaction Ordering","Advanced Monitoring"],deploymentTime:"4-5 minutes",preview:"Advanced MEV and sandwich attack protection",contractCode:'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.20;\n\nimport "@openzeppelin/contracts/utils/ReentrancyGuard.sol";\nimport "@openzeppelin/contracts/access/Ownable.sol";\n\ncontract MEVProtection is ReentrancyGuard, Ownable {\n  // Real compiled contract code\n}'}];if((null==e?void 0:e.category)&&"all"!==e.category&&(t=t.filter(t=>t.category===e.category)),(null==e?void 0:e.difficulty)&&"all"!==e.difficulty&&(t=t.filter(t=>t.difficulty===e.difficulty)),(null==e?void 0:e.securityLevel)&&"all"!==e.securityLevel&&(t=t.filter(t=>t.securityLevel===e.securityLevel)),null==e?void 0:e.search){let r=e.search.toLowerCase();t=t.filter(e=>e.name.toLowerCase().includes(r)||e.description.toLowerCase().includes(r)||e.tags.some(e=>e.toLowerCase().includes(r)))}return(null==e?void 0:e.priceRange)&&(t=t.filter(t=>t.priceInEth>=e.priceRange.min&&t.priceInEth<=e.priceRange.max)),t}}static async getMarketplaceItem(e){try{return(await this.makeRequest("/api/marketplace/items/".concat(e))).item||null}catch(e){return console.error("Failed to fetch marketplace item:",e),null}}static async getCategories(){try{return await this.makeRequest("/api/contracts/templates/categories")}catch(e){return console.error("Failed to fetch categories:",e),["Security","Honeypot","Registry","Protection","MEV Protection"]}}static async getDifficulties(){try{return await this.makeRequest("/api/contracts/templates/difficulties")}catch(e){return console.error("Failed to fetch difficulties:",e),["Intermediate","Advanced"]}}static async getSecurityLevels(){try{return await this.makeRequest("/api/contracts/templates/security-levels")}catch(e){return console.error("Failed to fetch security levels:",e),["High"]}}static async purchaseItem(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;try{let a=await fetch("".concat(d,"/api/marketplace/purchase"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemId:e,userAddress:t,quantity:r})});if(!a.ok){let e=await a.json();throw Error(e.error||"Purchase failed")}let i=await a.json();return{success:!0,transactionHash:i.transactionHash}}catch(e){return console.error("Failed to purchase item:",e),{success:!1,error:e instanceof Error?e.message:"Purchase failed"}}}static async getPurchaseHistory(e){try{return(await this.makeRequest("/api/marketplace/purchases?userAddress=".concat(e))).purchases||[]}catch(e){return console.error("Failed to fetch purchase history:",e),[]}}static async getPopularItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;try{return(await this.makeRequest("/api/marketplace/popular?limit=".concat(e))).items||[]}catch(e){return console.error("Failed to fetch popular items:",e),[]}}static async getFeaturedItems(){try{return(await this.makeRequest("/api/marketplace/featured")).items||[]}catch(e){return console.error("Failed to fetch featured items:",e),[]}}}var h=r(6300),p=r(2741),m=r(6872);let g=["function deployTrap(string name, string description, uint256 rewardPercentage, uint256 maxAttackers) external payable","function getTrap(uint256 trapId) external view returns (uint256 id, string name, string description, uint256 rewardPercentage, uint256 maxAttackers, uint256 deploymentCost, address deployer, bool isActive, uint256 createdAt)","function getTotalTraps() external view returns (uint256)","event TrapDeployed(uint256 indexed trapId, string name, address indexed deployer, uint256 cost)"];class y{async initializeProvider(){if(window.ethereum)try{await window.ethereum.request({method:"eth_requestAccounts"}),this.provider=new h.k(window.ethereum),this.signer=await this.provider.getSigner(),window.ethereum.on("accountsChanged",()=>{this.initializeProvider()}),console.log("Blockchain provider initialized")}catch(e){console.error("Failed to initialize blockchain provider:",e)}}async connectWallet(){try{if(this.provider||await this.initializeProvider(),!this.signer)throw Error("No signer available");let e=await this.signer.getAddress();return console.log("Wallet connected:",e),e}catch(e){return console.error("Failed to connect wallet:",e),null}}async switchToHoodiTestnet(){try{if(!window.ethereum)throw Error("MetaMask not installed");let e="0x88b0";try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:e}]}),!0}catch(t){if(4902===t.code)return await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:e,chainName:"Hoodi Testnet",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:["https://rpc.hoodi.network"],blockExplorerUrls:["https://explorer.hoodi.network"]}]}),!0;throw t}}catch(e){return console.error("Failed to switch to Hoodi testnet:",e),!1}}async initializeContract(e){try{if(!this.provider)throw Error("Provider not initialized");return this.contract=new m.NZ(e,g,this.provider),console.log("Contract initialized at:",e),!0}catch(e){return console.error("Failed to initialize contract:",e),!1}}async deployTrap(e,t){try{var r,a;if(!this.contract||!this.signer)throw Error("Contract or signer not initialized");await this.switchToHoodiTestnet();let i=p.g5(e.costInEth.toString()),n=await this.contract.deployTrap(t.trapName,t.description,t.rewardPercentage,t.maxAttackers,{value:i});console.log("Deployment transaction sent:",n.hash);let o=await n.wait();console.log("Deployment confirmed in block:",o.blockNumber);let c=null==(r=o.events)?void 0:r.find(e=>"TrapDeployed"===e.event),s=null==c||null==(a=c.args)?void 0:a.trapId;return{success:!0,transactionHash:n.hash,contractAddress:await this.contract.getAddress(),trapId:s?Number(s):void 0}}catch(e){return console.error("Deployment failed:",e),{success:!1,error:e.message||"Deployment failed"}}}async getTrap(e){try{if(!this.contract)throw Error("Contract not initialized");let t=await this.contract.getTrap(e);return{id:Number(t.id),name:t.name,description:t.description,rewardPercentage:Number(t.rewardPercentage),maxAttackers:Number(t.maxAttackers),deploymentCost:p.ck(t.deploymentCost),deployer:t.deployer,isActive:t.isActive,createdAt:Number(t.createdAt)}}catch(e){return console.error("Failed to get trap:",e),null}}async getTotalTraps(){try{if(!this.contract)throw Error("Contract not initialized");let e=await this.contract.getTotalTraps();return Number(e)}catch(e){return console.error("Failed to get total traps:",e),0}}async getGasEstimate(e,t){try{if(!this.contract||!this.signer)throw Error("Contract or signer not initialized");let r=p.g5(e.costInEth.toString()),a=await this.contract.deployTrap.estimateGas(t.trapName,t.description,t.rewardPercentage,t.maxAttackers,{value:r}),i=(await this.provider.getFeeData()).gasPrice;if(!i)throw Error("Unable to get gas price");return p.ck(a*i)}catch(e){return console.error("Failed to estimate gas:",e),"0"}}async getBalance(){try{if(!this.signer)throw Error("Signer not initialized");let e=await this.signer.getAddress(),t=await this.provider.getBalance(e);return p.ck(t)}catch(e){return console.error("Failed to get balance:",e),"0"}}async getNetworkInfo(){try{if(!this.provider)throw Error("Provider not initialized");let e=await this.provider.getNetwork();return{chainId:e.chainId,name:e.name,isHoodiTestnet:e.chainId===BigInt(560048)}}catch(e){return console.error("Failed to get network info:",e),null}}constructor(){this.provider=null,this.contract=null,this.signer=null,this.initializeProvider()}}let w=new y;class f{async initializeProvider(){if(window.ethereum)try{this.provider=new h.k(window.ethereum),this.signer=await this.provider.getSigner(),window.ethereum.on("accountsChanged",()=>{this.initializeProvider()}),console.log("Payment service provider initialized")}catch(e){console.error("Failed to initialize payment provider:",e)}}async getBalance(){try{if(!this.signer)throw Error("No signer available");let e=await this.signer.getAddress(),t=await this.provider.getBalance(e);return p.ck(t)}catch(e){return console.error("Failed to get balance:",e),"0"}}async estimateGas(e){try{if(!this.signer)throw Error("No signer available");let t=p.g5(e.amount.toString()),r=await this.provider.estimateGas({to:e.recipient,value:t,gasLimit:e.gasLimit||21e3}),a=(await this.provider.getFeeData()).gasPrice;if(!a)throw Error("Unable to get gas price");return p.ck(r*a)}catch(e){return console.error("Failed to estimate gas:",e),"0"}}async sendPayment(e){try{if(!this.signer)throw Error("No signer available");await w.switchToHoodiTestnet();let t=p.g5(e.amount.toString()),r=await this.provider.getFeeData(),a=e.gasPrice||r.gasPrice;if(!a)throw Error("Unable to get gas price");let i=BigInt(a),n=await this.signer.sendTransaction({to:e.recipient,value:t,gasLimit:e.gasLimit||21e3,gasPrice:i});console.log("Payment transaction sent:",n.hash);let o=await n.wait();if(!o)throw Error("Transaction receipt not received");console.log("Payment confirmed in block:",o.blockNumber);let c=o.gasUsed*i;return{success:!0,transactionHash:n.hash,gasUsed:p.ck(c),totalCost:p.ck(t+c)}}catch(e){return console.error("Payment failed:",e),{success:!1,error:e.message||"Payment failed"}}}async verifyPayment(e){try{if(!this.provider)throw Error("Provider not initialized");if(!await this.provider.getTransaction(e))return{isVerified:!1,status:"failed",error:"Transaction not found"};let t=await this.provider.getTransactionReceipt(e);if(!t)return{isVerified:!1,status:"pending"};let r=await this.provider.getBlockNumber()-t.blockNumber;return{isVerified:!0,blockNumber:t.blockNumber,confirmations:r,status:r>=12?"confirmed":"pending"}}catch(e){return console.error("Payment verification failed:",e),{isVerified:!1,status:"failed",error:"Verification failed"}}}async getTransactionHistory(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(!this.provider)throw Error("Provider not initialized");return console.log("Transaction history requested for:",e),[]}catch(e){return console.error("Failed to get transaction history:",e),[]}}async validatePaymentAmount(e,t){try{return parseFloat(t)>=e+.01}catch(e){return console.error("Failed to validate payment amount:",e),!1}}async getNetworkInfo(){try{if(!this.provider)throw Error("Provider not initialized");let e=await this.provider.getNetwork();return{chainId:e.chainId,name:e.name,isHoodiTestnet:e.chainId===BigInt(560048)}}catch(e){return console.error("Failed to get network info:",e),null}}constructor(){this.provider=null,this.signer=null,this.initializeProvider()}}new f;var v=r(1917);let x=r(9509).env.NEXT_PUBLIC_HOODI_RPC_URL||"https://rpc.hoodi.network";class b{async initialize(){try{if(!window.ethereum)throw Error("MetaMask not found. Please install MetaMask.");let e=await window.ethereum.request({method:"eth_requestAccounts"});if(!e||0===e.length)throw Error("No accounts found. Please connect your wallet.");return this.provider=new h.k(window.ethereum),this.signer=await this.provider.getSigner(),(await this.provider.getNetwork()).chainId!==BigInt(560048)&&await this.switchToHoodiNetwork(),!0}catch(e){return console.error("Failed to initialize deployment service:",e),!1}}async switchToHoodiNetwork(){try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x".concat("88bb0")}]})}catch(e){if(4902===e.code)await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x".concat("88bb0"),chainName:"Hoodi Testnet",nativeCurrency:{name:"HOODI",symbol:"HOODI",decimals:18},rpcUrls:[x],blockExplorerUrls:["https://explorer.hoodi.network"]}]});else throw e}}async deployContract(e){try{if(!this.provider||!this.signer)throw Error("Deployment service not initialized. Please connect your wallet.");let t=await this.getContractData(e.template.type);if(!t)throw Error("Contract template not found");let r=new v.P(t.abi,t.bytecode,this.signer),a=await r.getDeployTransaction(),i=e.customizations.gasLimit||Number(a.gasLimit)||5e5,n=await this.provider.getFeeData(),o=e.customizations.gasPrice||n.gasPrice||p.XS("20","gwei"),c=await r.deploy({gasLimit:i,gasPrice:o}),s=await c.waitForDeployment(),l=await c.getAddress(),d=s.deploymentTransaction();if(!(null==d?void 0:d.hash))throw Error("Deployment transaction hash not found");let u=await this.provider.getTransactionReceipt(d.hash),h=Number((null==u?void 0:u.gasUsed)||i),m=h*Number(o)/Number(p.XS("1","ether"));return{success:!0,contractAddress:l,transactionHash:d.hash,gasUsed:h,gasPrice:Number(o),totalCost:m}}catch(e){return console.error("Contract deployment failed:",e),{success:!1,error:e instanceof Error?e.message:"Deployment failed"}}}async getContractData(e){try{let t=await fetch("https://one-click-c308.onrender.com/api/real-contracts/templates");if(!t.ok)throw Error("Failed to fetch contract templates");let r=await t.json();if(!r.success||!r.data.templates)throw Error("Invalid response format from templates API");let a=r.data.templates.find(t=>t.type===e||t.name===e);if(a&&a.abi&&a.bytecode)return console.log("✅ Found template: ".concat(a.name," for type: ").concat(e)),{abi:a.abi,bytecode:a.bytecode};return console.warn("Template ".concat(e," not found, using fallback structure")),{abi:[],bytecode:"0x"}}catch(e){return console.error("Failed to load contract data:",e),null}}async estimateGas(e){try{if(!this.provider||!this.signer)throw Error("Deployment service not initialized");let t=await this.getContractData(e.template.type);if(!t)throw Error("Contract template not found");let r=new v.P(t.abi,t.bytecode,this.signer),a=await r.getDeployTransaction(),i=Number(a.gasLimit)||5e5,n=(await this.provider.getFeeData()).gasPrice||p.XS("20","gwei"),o=Number(i)*Number(n)/Number(p.XS("1","ether"));return{gasLimit:Number(i),gasPrice:Number(n),totalCost:Number(o)}}catch(e){return console.error("Failed to estimate gas:",e),null}}async getBalance(){try{if(!this.signer)throw Error("Signer not initialized");let e=await this.signer.getAddress(),t=await this.provider.getBalance(e);return p.ck(t)}catch(e){return console.error("Failed to get balance:",e),"0"}}async verifyDeployment(e,t){try{if(!this.provider)throw Error("Provider not initialized");let r=await this.getContractData(t);if(!r)return!1;let a=new m.NZ(e,r.abi,this.provider);try{return await a.getTrapInfo(),!0}catch(r){let t=await this.provider.getCode(e);return"0x"!==t}}catch(e){return console.error("Failed to verify deployment:",e),!1}}constructor(){this.provider=null,this.signer=null}}let C=new f,k=new b,N="force-dynamic",I=[{id:"security-trap",name:"SecurityTrap",description:"Advanced security trap with comprehensive attack detection and response mechanisms",category:"Security",difficulty:"Advanced",securityLevel:"High",price:"0.08",priceInEth:.08,rating:4.9,reviewCount:67,downloads:342,tags:["Security","Advanced","Attack Detection","Response"],lastUpdated:"1 day ago",author:"OneClick Security",features:["Attack Detection","Automated Response","Event Logging","Emergency Shutdown"],deploymentTime:"2-3 minutes",preview:"Advanced security trap with real-time threat detection",contractCode:'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.20;\n\nimport "@openzeppelin/contracts/utils/ReentrancyGuard.sol";\nimport "@openzeppelin/contracts/access/Ownable.sol";\n\ncontract SecurityTrap is ReentrancyGuard, Ownable {\n  // Real compiled contract code\n}'},{id:"advanced-honeypot",name:"AdvancedHoneypot",description:"Sophisticated honeypot that captures malicious actors while protecting legitimate users",category:"Honeypot",difficulty:"Advanced",securityLevel:"High",price:"0.12",priceInEth:.12,rating:4.8,reviewCount:89,downloads:567,tags:["Honeypot","Advanced","Malware Capture","User Protection"],lastUpdated:"2 days ago",author:"OneClick Security",features:["Malware Detection","User Protection","Fund Capture","Analytics"],deploymentTime:"3-4 minutes",preview:"Advanced honeypot with intelligent threat detection",contractCode:'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.20;\n\nimport "@openzeppelin/contracts/security/ReentrancyGuard.sol";\nimport "@openzeppelin/contracts/access/Ownable.sol";\n\ncontract AdvancedHoneypot is ReentrancyGuard, Ownable {\n  // Real compiled contract code\n}'},{id:"drosera-registry",name:"DroseraRegistry",description:"Centralized registry for managing and monitoring all deployed security traps",category:"Monitoring",difficulty:"Intermediate",securityLevel:"Medium",price:"0.06",priceInEth:.06,rating:4.7,reviewCount:45,downloads:234,tags:["Registry","Monitoring","Management","Centralized"],lastUpdated:"3 days ago",author:"OneClick Security",features:["Trap Registry","Monitoring Dashboard","Event Logging","Admin Controls"],deploymentTime:"2-3 minutes",preview:"Centralized registry for security trap management",contractCode:'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.20;\n\nimport "@openzeppelin/contracts/access/Ownable.sol";\nimport "@openzeppelin/contracts/utils/Counters.sol";\n\ncontract DroseraRegistry is Ownable {\n  // Real compiled contract code\n}'},{id:"flash-loan-protection",name:"FlashLoanProtection",description:"Protection mechanism against flash loan attacks and price manipulation",category:"Security",difficulty:"Advanced",securityLevel:"High",price:"0.15",priceInEth:.15,rating:4.9,reviewCount:123,downloads:789,tags:["Flash Loan","Attack Prevention","Price Protection","Advanced"],lastUpdated:"1 day ago",author:"OneClick Security",features:["Flash Loan Detection","Price Manipulation Prevention","Emergency Shutdown","Real-time Monitoring"],deploymentTime:"4-5 minutes",preview:"Advanced flash loan attack protection system",contractCode:'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.20;\n\nimport "@openzeppelin/contracts/security/ReentrancyGuard.sol";\nimport "@openzeppelin/contracts/access/Ownable.sol";\n\ncontract FlashLoanProtection is ReentrancyGuard, Ownable {\n  // Real compiled contract code\n}'},{id:"mev-protection",name:"MEVProtection",description:"Maximum Extractable Value protection against sandwich attacks and front-running",category:"Monitoring",difficulty:"Advanced",securityLevel:"High",price:"0.18",priceInEth:.18,rating:4.9,reviewCount:156,downloads:892,tags:["MEV","Sandwich Attack","Front-running","Advanced"],lastUpdated:"2 days ago",author:"OneClick Security",features:["MEV Detection","Sandwich Prevention","Transaction Ordering","Gas Optimization"],deploymentTime:"3-4 minutes",preview:"Comprehensive MEV attack protection system",contractCode:'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.20;\n\nimport "@openzeppelin/contracts/security/ReentrancyGuard.sol";\nimport "@openzeppelin/contracts/access/Ownable.sol";\n\ncontract MEVProtection is ReentrancyGuard, Ownable {\n  // Real compiled contract code\n}'}];function E(){let{address:e,isConnected:t}=(0,l.v)(),[r,d]=(0,i.useState)("all"),[h,p]=(0,i.useState)("all"),[m,g]=(0,i.useState)("all"),[y,w]=(0,i.useState)(""),[f,v]=(0,i.useState)("price"),[x,b]=(0,i.useState)([]),[N,E]=(0,i.useState)([]),[P,A]=(0,i.useState)(!0),[S,T]=(0,i.useState)([]),[j,L]=(0,i.useState)(!1),[D,R]=(0,i.useState)(!1),[z,F]=(0,i.useState)({isDeploying:!1,currentContract:"",progress:0,deployedContracts:[],errors:[]}),M=()=>{T([])};(0,i.useEffect)(()=>{E([...x.filter(e=>{let t="all"===r||e.category===r,a="all"===h||e.difficulty===h,i="all"===m||e.securityLevel===m,n=""===y||e.name.toLowerCase().includes(y.toLowerCase())||e.description.toLowerCase().includes(y.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(y.toLowerCase()));return t&&a&&i&&n})].sort((e,t)=>{switch(f){case"price":return e.priceInEth-t.priceInEth;case"name":return e.name.localeCompare(t.name);case"date":return new Date(t.lastUpdated).getTime()-new Date(e.lastUpdated).getTime();case"popularity":return(t.rating||0)-(e.rating||0);default:return 0}}))},[x,r,h,m,y,f]),(0,i.useEffect)(()=>{(async()=>{A(!0);try{console.log("Fetching marketplace data...");let e=await u.getMarketplaceItems();console.log("Marketplace items received:",e),b(e)}catch(e){console.error("Failed to fetch marketplace data:",e),console.log("Using fallback data..."),b(I)}finally{A(!1)}})()},[]);let H=async()=>{if(!t)return void alert("Please connect your wallet first!");if(0===S.length)return void alert("Your cart is empty!");R(!0),F({isDeploying:!0,currentContract:"",progress:0,deployedContracts:[],errors:[]});try{let e=S.reduce((e,t)=>e+t.priceInEth,0),t=await C.getBalance();if(parseFloat(t)<e)throw Error("Insufficient balance. You have ".concat(t," ETH but need ").concat(e," ETH"));if(!await k.initialize())throw Error("Failed to initialize deployment service. Please check your wallet connection.");let r=S.length,a=0;for(let e of S)try{F(t=>({...t,currentContract:e.name,progress:a/r*100})),console.log("\uD83D\uDE80 Deploying ".concat(e.name,"..."));let t=await k.deployContract({template:{id:e.id,name:e.name,type:e.name.toLowerCase().replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),description:e.description,price:e.priceInEth,difficulty:e.difficulty,securityLevel:e.securityLevel,features:e.features,tags:e.tags,deploymentTime:e.deploymentTime,gasEstimate:15e4,contractCode:e.contractCode,preview:e.preview,author:e.author,lastUpdated:e.lastUpdated},customizations:{name:e.name,description:e.description,securityLevel:e.securityLevel}});if(t.success&&t.contractAddress)a++,F(i=>({...i,deployedContracts:[...i.deployedContracts,{name:e.name,address:t.contractAddress,txHash:t.transactionHash}],progress:a/r*100})),console.log("✅ ".concat(e.name," deployed successfully at ").concat(t.contractAddress));else throw Error(t.error||"Deployment failed")}catch(t){console.error("❌ Failed to deploy ".concat(e.name,":"),t),F(r=>({...r,errors:[...r.errors,{name:e.name,error:t.message||"Deployment failed"}]}))}if(a>0){let e="✅ Successfully deployed ".concat(a," out of ").concat(r," contracts!\n\nDeployed contracts:\n").concat(z.deployedContracts.map(e=>"• ".concat(e.name,": ").concat(e.address)).join("\n"));alert(e),M(),L(!1)}if(z.errors.length>0){let e="⚠️ ".concat(z.errors.length," contracts failed to deploy:\n\n").concat(z.errors.map(e=>"• ".concat(e.name,": ").concat(e.error)).join("\n"));alert(e)}}catch(e){console.error("Payment/Deployment failed:",e),alert("❌ Payment/Deployment failed: ".concat(e.message))}finally{R(!1),F(e=>({...e,isDeploying:!1}))}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[(0,a.jsx)("div",{className:"bg-white/5 backdrop-blur-sm border-b border-white/10",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:"Security Trap Marketplace"}),(0,a.jsx)("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Browse and purchase professional-grade security traps. Each template is carefully crafted and tested to provide maximum protection for your DeFi protocols."})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 mb-8 border border-white/10",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,a.jsx)("select",{value:r,onChange:e=>d(e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:["all","Security","Honeypot","Monitoring","Basic"].map(e=>(0,a.jsx)("option",{value:e,className:"bg-gray-800 text-white",children:"all"===e?"All Categories":e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Difficulty"}),(0,a.jsx)("select",{value:h,onChange:e=>p(e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:["all","Basic","Intermediate","Advanced"].map(e=>(0,a.jsx)("option",{value:e,className:"bg-gray-800 text-white",children:"all"===e?"All Difficulties":e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Security Level"}),(0,a.jsx)("select",{value:m,onChange:e=>g(e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:["all","Low","Medium","High"].map(e=>(0,a.jsx)("option",{value:e,className:"bg-gray-800 text-white",children:"all"===e?"All Levels":e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sort By"}),(0,a.jsxs)("select",{value:f,onChange:e=>v(e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,a.jsx)("option",{value:"price",className:"bg-gray-800 text-white",children:"Price"}),(0,a.jsx)("option",{value:"name",className:"bg-gray-800 text-white",children:"Name"}),(0,a.jsx)("option",{value:"date",className:"bg-gray-800 text-white",children:"Date"}),(0,a.jsx)("option",{value:"popularity",className:"bg-gray-800 text-white",children:"Popularity"})]})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,a.jsx)("input",{type:"text",placeholder:"Search security traps...",value:y,onChange:e=>w(e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg pl-10 pr-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),S.length>0&&(0,a.jsx)("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 rounded-xl p-6 mb-8 text-white",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Shopping Cart"}),(0,a.jsxs)("p",{className:"text-orange-100",children:[S.length," item(s) - Total: ",S.reduce((e,t)=>e+t.priceInEth,0).toFixed(3)," ETH"]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(n.$,{onClick:M,variant:"outline",className:"border-white/30 text-white hover:bg-white/10",children:"Clear Cart"}),(0,a.jsx)(n.$,{onClick:H,disabled:D,className:"bg-white text-orange-600 hover:bg-gray-100",children:D?"Processing...":"Checkout"})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("p",{className:"text-gray-300",children:["Showing ",N.length," of ",x.length," security traps"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(n.$,{onClick:()=>{(async()=>{A(!0);try{let e=await u.getMarketplaceItems();b(e)}catch(e){console.error("Failed to refresh marketplace data:",e)}finally{A(!1)}})()},variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Refresh"]}),(0,a.jsxs)(n.$,{onClick:()=>L(!j),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[(0,a.jsx)(s.A,{className:"h-4 w-4 mr-2"}),"Cart (",S.length,")"]})]})]}),P?(0,a.jsxs)("div",{className:"col-span-full text-center py-16",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Loading marketplace items..."})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-3",children:N.map(e=>(0,a.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 hover:border-orange-500/50 transition-all duration-300 hover:shadow-xl hover:shadow-orange-500/20 rounded-lg p-3 min-h-[180px] flex flex-col",children:[(0,a.jsx)("div",{className:"text-center mb-2",children:(0,a.jsx)("div",{className:"w-6 h-6 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-1",children:(0,a.jsx)(c.A,{className:"w-3 h-3 text-white"})})}),(0,a.jsx)("h3",{className:"text-xs font-semibold text-white mb-1 text-center line-clamp-2",children:e.name}),(0,a.jsx)("p",{className:"text-gray-300 text-xs leading-relaxed text-center mb-2 line-clamp-2",children:e.description}),(0,a.jsx)("div",{className:"flex justify-center mb-2",children:(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("Basic"===e.difficulty?"bg-green-500/20 text-green-400":"Intermediate"===e.difficulty?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"),children:e.difficulty})}),(0,a.jsxs)("div",{className:"text-center space-y-1 mb-2 text-xs text-gray-400",children:[(0,a.jsx)("div",{children:e.category}),(0,a.jsxs)("div",{children:["By ",e.author]})]}),(0,a.jsxs)("div",{className:"mt-auto flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-xs font-bold text-orange-400",children:[e.price," ETH"]}),(0,a.jsxs)(n.$,{className:"bg-orange-600 hover:bg-orange-700 text-white px-2 py-1 rounded text-xs h-6",onClick:()=>{console.log("Adding to cart:",e);if(console.log("addToCart called with:",e),S.find(t=>t.id===e.id))console.log("Item already in cart"),alert("Item already in cart!");else{let t=[...S,e];console.log("Adding to cart, new cart:",t),T(t),alert("Added ".concat(e.name," to cart!"))}},children:[(0,a.jsx)(s.A,{className:"h-3 w-3 mr-1"}),"Add"]})]})]},e.id))}),0===N.length&&(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)(c.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"No security traps found"}),(0,a.jsx)("p",{className:"text-gray-400 mb-6",children:"Try adjusting your filters or search query to find what you're looking for."}),(0,a.jsx)(n.$,{onClick:()=>{d("all"),p("all"),g("all"),w("")},variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:"Clear Filters"})]})]})]})}},4784:(e,t,r)=>{Promise.resolve().then(r.bind(r,4339))}},e=>{e.O(0,[117,441,964,358],()=>e(e.s=4784)),_N_E=e.O()}]);