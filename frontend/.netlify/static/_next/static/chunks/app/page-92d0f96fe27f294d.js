(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1148:(e,t,o)=>{"use strict";o.d(t,{WalletProvider:()=>s,v:()=>r});var l=o(5155),a=o(2115);let n=(0,a.createContext)(void 0);function r(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useWallet must be used within a WalletProvider");return e}function s(e){let{children:t}=e,[o,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[h,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),[g,w]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=localStorage.getItem("oneclick_jwt_token"),t=localStorage.getItem("oneclick_wallet_address");e&&t&&(console.log("\uD83D\uDD04 Restoring wallet connection from localStorage..."),u(e),i(t),r(!0),x(!0),(async()=>{try{let e=p();if(e){let o=await e.request({method:"eth_accounts"});o.length>0&&o[0].toLowerCase()===t.toLowerCase()?(console.log("✅ Wallet still connected, restoring full state"),i(o[0]),r(!0),x(!0),e.on&&(e.on("accountsChanged",async e=>{if(console.log("\uD83D\uDD04 Account changed:",e),0===e.length)y();else{let t=e[0];i(t);let o=await f(t);o?(u(o),x(!0)):(x(!1),u(null))}}),e.on("chainChanged",e=>{console.log("\uD83D\uDD04 Chain changed:",e),d(parseInt(e,16))}))):(console.log("⚠️ Saved account no longer connected, clearing state"),y())}else console.log("⚠️ No wallet provider available, clearing state"),y()}catch(e){console.error("❌ Error reconnecting wallet:",e),y()}})());let l=async()=>{if(o&&s){console.log("\uD83D\uDD04 Window focused, checking wallet status...");try{let e=p();if(e){let t=await e.request({method:"eth_accounts"});(0===t.length||t[0].toLowerCase()!==s.toLowerCase())&&(console.log("⚠️ Wallet disconnected, updating state"),y())}}catch(e){console.error("❌ Error checking wallet status on focus:",e)}}};return window.addEventListener("focus",l),()=>{window.removeEventListener("focus",l)}},[o,s]);let p=()=>{try{var e,t;if(null==(e=window.ethereum)?void 0:e.isMetaMask)return console.log("✅ Found MetaMask provider"),window.ethereum;if(window.ethereum)return console.log("✅ Found generic ethereum provider"),window.ethereum;let o=[window.binanceChain,window.coinbaseWalletExtension,null==(t=window.phantom)?void 0:t.ethereum,window.trustwallet].filter(Boolean);if(o.length>0)return console.log("✅ Found alternative wallet provider:",o[0]),o[0];return console.log("❌ No wallet providers found"),null}catch(e){return console.error("Error detecting wallet providers:",e),null}},f=async e=>{try{let t,o=p();if(!o)throw Error("No wallet provider available");let l="Connect to One Click Security\n\nWallet: ".concat(e,"\nTimestamp: ").concat(Date.now(),'\n\nClick "Sign" to authenticate with the backend.');try{t=await o.request({method:"personal_sign",params:[l,e]})}catch(e){if(4001===e.code)throw Error("User rejected the signature request");throw e}let a=await fetch("https://one-click-c308.onrender.com/api/auth/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:e,signature:t,message:l})});if(a.ok){let t=await a.json();if(t.success&&t.token)return localStorage.setItem("oneclick_jwt_token",t.token),localStorage.setItem("oneclick_wallet_address",e),t.token}throw Error("Authentication failed")}catch(e){return console.error("Backend authentication error:",e),null}},v=async()=>{try{let e;w(null),console.log("\uD83D\uDD0D Attempting to connect wallet...");let t=p();if(!t){console.log("❌ No wallet provider found"),w("No wallet provider found. Please install MetaMask or another compatible wallet.");return}console.log("✅ Wallet provider found, requesting accounts...");try{e=await t.request({method:"eth_requestAccounts"}),console.log("✅ Accounts received:",e)}catch(e){if(console.error("❌ Account request failed:",e),4001===e.code)return void w("User rejected the connection request");throw e}if(e.length>0){let o=e[0];console.log("✅ Setting wallet address:",o),i(o),r(!0);try{let e=await t.request({method:"eth_chainId"});console.log("✅ Chain ID received:",e),d(parseInt(e,16))}catch(e){console.warn("⚠️ Failed to get chain ID:",e)}console.log("\uD83D\uDD10 Authenticating with backend...");let l=await f(o);l?(u(l),x(!0),console.log("✅ Successfully authenticated with backend")):(console.error("❌ Failed to authenticate with backend"),w("Failed to authenticate with backend. Please try again.")),t.on&&(t.on("accountsChanged",async e=>{if(console.log("\uD83D\uDD04 Account changed:",e),0===e.length)y();else{let t=e[0];i(t);let o=await f(t);o?(u(o),x(!0)):(x(!1),u(null))}}),t.on("chainChanged",e=>{console.log("\uD83D\uDD04 Chain changed:",e),d(parseInt(e,16))}))}else console.log("❌ No accounts received"),w("No accounts found. Please unlock your wallet and try again.")}catch(e){console.error("❌ Error connecting wallet:",e),w(e.message||"Failed to connect wallet. Please try again.")}},y=()=>{console.log("\uD83D\uDD0C Disconnecting wallet..."),r(!1),x(!1),i(null),d(null),u(null),w(null),localStorage.removeItem("oneclick_jwt_token"),localStorage.removeItem("oneclick_wallet_address")};return(0,l.jsx)(n.Provider,{value:{isConnected:o,address:s,chainId:c,token:h,connect:v,disconnect:y,manualDisconnect:()=>{console.log("\uD83D\uDD0C Manual wallet disconnect..."),r(!1),x(!1),i(null),d(null),u(null),w(null),localStorage.removeItem("oneclick_jwt_token"),localStorage.removeItem("oneclick_wallet_address")},isAuthenticated:m,walletError:g},children:t})}},2260:(e,t,o)=>{"use strict";o.d(t,{D:()=>s,ThemeProvider:()=>r});var l=o(5155),a=o(2115);let n=(0,a.createContext)(void 0);function r(e){let{children:t}=e,[o,r]=(0,a.useState)("system"),[s,i]=(0,a.useState)("dark");return(0,a.useEffect)(()=>{let e=localStorage.getItem("theme");e&&r(e)},[]),(0,a.useEffect)(()=>{let e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===o){let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";i(t),e.classList.add(t)}else i(o),e.classList.add(o);localStorage.setItem("theme",o)},[o]),(0,a.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>{if("system"===o){let t=e.matches?"dark":"light";i(t),window.document.documentElement.classList.remove("light","dark"),window.document.documentElement.classList.add(t)}};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[o]),(0,l.jsx)(n.Provider,{value:{theme:o,setTheme:r,resolvedTheme:s},children:t})}function s(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},4409:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var l=o(5155),a=o(1148),n=o(2260);o(2115);var r=o(9509);function s(){let{isConnected:e,address:t,connect:o,walletError:r}=(0,a.v)(),{resolvedTheme:s}=(0,n.D)(),i=()=>{e?window.location.href="/marketplace":o()};return(0,l.jsxs)("div",{className:"min-h-screen bg-background text-foreground",children:[(0,l.jsxs)("section",{className:"relative overflow-hidden bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 py-24 sm:py-32",children:[(0,l.jsx)("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"mx-auto max-w-2xl text-center",children:[(0,l.jsxs)("h1",{className:"text-4xl font-bold tracking-tight text-white sm:text-6xl",children:[(0,l.jsx)("span",{className:"bg-gradient-to-r from-orange-400 to-red-500 bg-clip-text text-transparent",children:"Drosera"}),(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"text-white",children:"Security Traps"})]}),(0,l.jsx)("p",{className:"mt-6 text-lg leading-8 text-gray-300",children:"Professional-grade DeFi security infrastructure. Deploy intelligent security traps with one-click automation to protect your protocols from attacks."}),(0,l.jsxs)("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:[(0,l.jsx)("button",{onClick:()=>{e?window.location.href="/app":o()},className:"rounded-md bg-gradient-to-r from-orange-500 to-red-600 px-6 py-3 text-lg font-semibold text-white shadow-lg hover:from-orange-600 hover:to-red-700 transition-all duration-200 hover:scale-105",children:e?"Launch App":"Get Started"}),(0,l.jsx)("button",{onClick:i,className:"text-lg font-semibold leading-6 text-white border-2 border-white/20 px-6 py-3 rounded-md hover:bg-white/10 transition-all duration-200",children:"View Templates"})]})]})}),(0,l.jsx)("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:(0,l.jsxs)("div",{className:"absolute left-[max(50%,25rem)] top-0 h-[64rem] w-[128rem] -translate-x-1/2 stroke-gray-200/20 [mask-image:radial-gradient(64rem_64rem_at_center,white,transparent)]",children:[(0,l.jsx)("defs",{children:(0,l.jsx)("pattern",{id:"hero-pattern",width:"200",height:"200",x:"50%",y:"-1",patternUnits:"userSpaceOnUse",children:(0,l.jsx)("path",{d:"M.5 200V.5H200",fill:"none"})})}),(0,l.jsx)("svg",{x:"50%",y:"-1",className:"overflow-visible fill-gray-800/20",children:(0,l.jsx)("path",{d:"M-200 0h201v201h-201Z M600 0h201v201h-201Z M-400 600h201v201h-201Z M200 800h201v201h-201Z",strokeWidth:"0"})}),(0,l.jsx)("rect",{width:"100%",height:"100%",strokeWidth:"0",fill:"url(#hero-pattern)"})]})})]}),(0,l.jsx)("section",{className:"py-24 sm:py-32 bg-white dark:bg-gray-900",children:(0,l.jsxs)("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[(0,l.jsxs)("div",{className:"mx-auto max-w-2xl lg:text-center",children:[(0,l.jsx)("h2",{className:"text-base font-semibold leading-7 text-orange-600 dark:text-orange-400",children:"Advanced Security"}),(0,l.jsx)("p",{className:"mt-2 text-3xl font-bold tracking-tight text-gray-900 dark:text-white sm:text-4xl",children:"Everything you need to protect your DeFi protocols"}),(0,l.jsx)("p",{className:"mt-6 text-lg leading-8 text-gray-600 dark:text-gray-300",children:"From honeypot traps to MEV protection, our comprehensive security suite provides automated threat detection and response."})]}),(0,l.jsx)("div",{className:"mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-24 lg:max-w-none",children:(0,l.jsxs)("dl",{className:"grid max-w-xl grid-cols-1 gap-x-8 gap-y-16 lg:max-w-none lg:grid-cols-3",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("dt",{className:"flex items-center gap-x-3 text-base font-semibold leading-7 text-gray-900 dark:text-white",children:[(0,l.jsx)("div",{className:"h-10 w-10 flex items-center justify-center rounded-lg bg-orange-600",children:(0,l.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})})}),"One-Click Deployment"]}),(0,l.jsx)("dd",{className:"mt-4 flex flex-auto flex-col text-base leading-7 text-gray-600 dark:text-gray-300",children:(0,l.jsx)("p",{className:"flex-auto",children:"Deploy professional security traps in minutes with our intuitive interface. No coding required - just select, configure, and deploy."})})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("dt",{className:"flex items-center gap-x-3 text-base font-semibold leading-7 text-gray-900 dark:text-white",children:[(0,l.jsx)("div",{className:"h-10 w-10 flex items-center justify-center rounded-lg bg-orange-600",children:(0,l.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})})}),"AI-Powered Detection"]}),(0,l.jsx)("dd",{className:"mt-4 flex flex-auto flex-col text-base leading-7 text-gray-600 dark:text-gray-300",children:(0,l.jsx)("p",{className:"flex-auto",children:"Advanced threat detection using machine learning algorithms. Real-time monitoring and automated response to security threats."})})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("dt",{className:"flex items-center gap-x-3 text-base font-semibold leading-7 text-gray-900 dark:text-white",children:[(0,l.jsx)("div",{className:"h-10 w-10 flex items-center justify-center rounded-lg bg-orange-600",children:(0,l.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),"Multi-Chain Support"]}),(0,l.jsx)("dd",{className:"mt-4 flex flex-auto flex-col text-base leading-7 text-gray-600 dark:text-gray-300",children:(0,l.jsx)("p",{className:"flex-auto",children:"Protect your assets across multiple blockchains. Currently supporting Hoodi testnet with plans for mainnet expansion."})})]})]})})]})}),(0,l.jsx)("section",{className:"py-24 sm:py-32 bg-gradient-to-r from-orange-600 to-red-600",children:(0,l.jsx)("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"mx-auto max-w-2xl text-center",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-white sm:text-4xl",children:"Ready to secure your DeFi protocols?"}),(0,l.jsx)("p",{className:"mx-auto mt-6 max-w-xl text-lg leading-8 text-orange-100",children:"Join the future of DeFi security with Drosera. Deploy your first trap today."}),(0,l.jsxs)("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:[(0,l.jsx)("button",{onClick:()=>{e?window.location.href="/deploy":o()},className:"rounded-md bg-white px-6 py-3 text-lg font-semibold text-orange-600 shadow-lg hover:bg-gray-100 transition-all duration-200",children:"Deploy Security Trap"}),(0,l.jsx)("button",{onClick:i,className:"text-lg font-semibold leading-6 text-white border-2 border-white/30 px-6 py-3 rounded-md hover:bg-white/10 transition-all duration-200",children:"Browse Templates"})]})]})})}),!1]})}({HOODI_TESTNET:{chainId:560048,name:"Hoodi Testnet",rpcUrl:r.env.NEXT_PUBLIC_HOODI_RPC_URL||"https://eth-hoodi.g.alchemy.com/v2/ZETFuZOXiKo3Rg4GKKAyZ",blockExplorer:r.env.NEXT_PUBLIC_HOODI_BLOCK_EXPLORER||"https://hoodi.etherscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},contracts:{droseraFactory:r.env.NEXT_PUBLIC_HOODI_DROSERA_FACTORY||"",droseraRegistry:r.env.NEXT_PUBLIC_HOODI_DROSERA_REGISTRY||""}}}).HOODI_TESTNET,r.env.NEXT_PUBLIC_ENABLE_BASIC_TRAPS,r.env.NEXT_PUBLIC_ENABLE_ENHANCED_AI,r.env.NEXT_PUBLIC_ENABLE_MARKETPLACE,r.env.NEXT_PUBLIC_DEBUG_MODE},6877:(e,t,o)=>{Promise.resolve().then(o.bind(o,4409))}},e=>{e.O(0,[441,964,358],()=>e(e.s=6877)),_N_E=e.O()}]);