(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[796],{285:(e,t,a)=>{"use strict";a.d(t,{$:()=>r});var s=a(5155);function r(e){let{className:t="",variant:a="default",size:r="default",children:l,...n}=e,o="".concat("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 h-10"," ").concat({default:"bg-orange-500 hover:bg-orange-600",outline:"border border-gray-600 hover:bg-gray-800",ghost:"hover:bg-gray-800"}[a]," ").concat({default:"px-4 py-2",sm:"h-9 px-3 py-2",lg:"h-11 px-6 py-2"}[r]," ").concat(t);return(0,s.jsx)("button",{className:o,...n,children:l})}a(2115)},762:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(5155),r=a(2115),l=a(285),n=a(6695),o=a(6126),c=a(5525),i=a(646),d=a(9946);let m=(0,d.A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),h=(0,d.A)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),x=(0,d.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var u=a(1539),g=a(1148);let f=[{id:"1",name:"Basic Honeypot Trap",description:"A simple honeypot that lures attackers into a fake vulnerable contract",difficulty:"Basic",cost:"0.01 ETH",costInEth:.01,deploymentTime:"2-3 minutes",securityLevel:"Medium",features:["Attack detection","Fund protection","Basic monitoring"],contractCode:"// Basic Honeypot Contract Code"},{id:"2",name:"Reentrancy Guard",description:"Protection against reentrancy attacks",difficulty:"Intermediate",cost:"0.03 ETH",costInEth:.03,deploymentTime:"3-4 minutes",securityLevel:"High",features:["Reentrancy protection","Gas optimization","Advanced monitoring"],contractCode:"// Reentrancy Guard Contract Code"},{id:"3",name:"Flash Loan Detector",description:"Detects and blocks flash loan attacks",difficulty:"Intermediate",cost:"0.02 ETH",costInEth:.02,deploymentTime:"2-3 minutes",securityLevel:"High",features:["Flash loan detection","Real-time blocking","Transaction analysis"],contractCode:"// Flash Loan Detector Contract Code"}];function p(){let{isConnected:e,address:t,token:a}=(0,g.v)(),[d,p]=(0,r.useState)(null),[w,y]=(0,r.useState)("select"),[b,j]=(0,r.useState)(0),[v,N]=(0,r.useState)({trapName:"",description:"",rewardPercentage:10,maxAttackers:5}),[k,C]=(0,r.useState)("wallet"),[S,A]=(0,r.useState)(!1),[P,T]=(0,r.useState)(""),[E,_]=(0,r.useState)(null);(0,r.useEffect)(()=>{try{let e=localStorage.getItem("userContractAddress");e&&_(e)}catch(e){}},[]);let D=async()=>{if(!e)return void alert("Please connect your wallet first!");if(d){A(!0);try{await new Promise(e=>setTimeout(e,2e3)),y("deploying"),await I()}catch(e){alert("Payment failed. Please try again.")}finally{A(!1)}}},I=async()=>{if(d)try{for(let e=0;e<=100;e+=10)j(e),await new Promise(e=>setTimeout(e,200));let e="0x"+Math.random().toString(16).substr(2,64);T(e);let t="0x"+Math.random().toString(16).substr(2,40);_(t),localStorage.setItem("userContractAddress",t),y("success")}catch(e){alert("Deployment failed. Please try again."),y("configure")}};return e?(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[(0,s.jsx)("div",{className:"bg-white/5 backdrop-blur-sm border-b border-white/10",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:"Deploy Security Traps"}),(0,s.jsx)("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Choose from our pre-configured security trap templates and deploy them with one-click automation. Protect your DeFi protocols instantly."})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:["select"!==w&&(0,s.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 mb-8 border border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Deployment Progress"}),(0,s.jsxs)(o.E,{variant:"outline",className:"border-orange-500/30 text-orange-400",children:["Step ","configure"===w?"1":"payment"===w?"2":"deploying"===w?"3":"4"," of 4"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3 bg-green-500",children:(0,s.jsx)(i.A,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("span",{className:"text-gray-300",children:"Template Selection"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3 ".concat("configure"===w?"bg-orange-500":"bg-green-500"),children:"configure"===w?(0,s.jsx)(m,{className:"w-5 h-5 text-white"}):(0,s.jsx)(i.A,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("span",{className:"text-gray-300",children:"Configuration"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3 ".concat("payment"===w?"bg-orange-500":"deploying"===w||"success"===w?"bg-green-500":"bg-gray-600"),children:"payment"===w?(0,s.jsx)(m,{className:"w-5 h-5 text-white"}):"deploying"===w||"success"===w?(0,s.jsx)(i.A,{className:"w-5 h-5 text-white"}):(0,s.jsx)(m,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("span",{className:"text-gray-300",children:"Payment"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3 ".concat("success"===w?"bg-green-500":"deploying"===w?"bg-orange-500":"bg-gray-600"),children:"deploying"===w?(0,s.jsx)(m,{className:"w-5 h-5 text-white"}):"success"===w?(0,s.jsx)(i.A,{className:"w-5 h-5 text-white"}):(0,s.jsx)(m,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("span",{className:"text-gray-300",children:"Deployment"})]})]})]}),"select"===w&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Choose Your Security Trap"}),(0,s.jsx)("p",{className:"text-gray-300",children:"Select from our professionally crafted security trap templates"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(e=>(0,s.jsxs)(n.Zp,{className:"bg-white/5 backdrop-blur-sm border border-white/10 hover:border-orange-500/50 transition-all duration-300 hover:shadow-xl hover:shadow-orange-500/20 cursor-pointer",onClick:()=>{p(e),y("configure")},children:[(0,s.jsx)(n.aR,{className:"pb-4",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(n.ZB,{className:"text-xl text-white mb-2",children:e.name}),(0,s.jsx)(n.BT,{className:"text-gray-300 text-sm leading-relaxed",children:e.description})]}),(0,s.jsxs)("div",{className:"text-right ml-4",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-orange-400 mb-1",children:e.cost}),(0,s.jsx)(o.E,{variant:"outline",className:"border-orange-500/30 text-orange-400",children:e.deploymentTime})]})]})}),(0,s.jsxs)(n.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(o.E,{className:(e=>{switch(e){case"Basic":return"bg-green-100 text-green-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(e.difficulty),children:e.difficulty}),(0,s.jsxs)(o.E,{className:(e=>{switch(e){case"Low":return"bg-red-100 text-red-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"High":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(e.securityLevel),children:[e.securityLevel," Security"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Features:"}),(0,s.jsx)("ul",{className:"space-y-1",children:e.features.map((e,t)=>(0,s.jsxs)("li",{className:"text-xs text-gray-400 flex items-center",children:[(0,s.jsx)(i.A,{className:"h-3 w-3 text-green-400 mr-2"}),e]},t))})]}),(0,s.jsxs)(l.$,{className:"w-full bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white",children:[(0,s.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Select Template"]})]})]},e.id))})]}),"configure"===w&&d&&(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Configure Your Trap"}),(0,s.jsxs)("p",{className:"text-gray-300",children:["Customize the settings for your ",d.name]})]}),(0,s.jsxs)(n.Zp,{className:"bg-white/5 backdrop-blur-sm border border-white/10",children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsx)(n.ZB,{className:"text-white",children:"Trap Configuration"}),(0,s.jsx)(n.BT,{className:"text-gray-300",children:"Set up your security trap parameters"})]}),(0,s.jsxs)(n.Wu,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Trap Name"}),(0,s.jsx)("input",{type:"text",value:v.trapName,onChange:e=>N({...v,trapName:e.target.value}),placeholder:"My Security Trap",className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Reward Percentage"}),(0,s.jsx)("input",{type:"number",value:v.rewardPercentage,onChange:e=>N({...v,rewardPercentage:Number(e.target.value)}),min:"1",max:"50",className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,s.jsx)("textarea",{value:v.description,onChange:e=>N({...v,description:e.target.value}),placeholder:"Describe your security trap...",rows:3,className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Attackers"}),(0,s.jsx)("input",{type:"number",value:v.maxAttackers,onChange:e=>N({...v,maxAttackers:Number(e.target.value)}),min:"1",max:"100",className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(l.$,{onClick:()=>y("select"),variant:"outline",className:"flex-1 border-white/20 text-white hover:bg-white/10",children:"Back"}),(0,s.jsx)(l.$,{onClick:()=>y("payment"),className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white",children:"Continue to Payment"})]})]})]})]}),"payment"===w&&d&&(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Payment & Deployment"}),(0,s.jsx)("p",{className:"text-gray-300",children:"Complete payment to deploy your security trap"})]}),(0,s.jsxs)(n.Zp,{className:"bg-white/5 backdrop-blur-sm border border-white/10",children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsx)(n.ZB,{className:"text-white",children:"Payment Summary"}),(0,s.jsx)(n.BT,{className:"text-gray-300",children:"Review your order and select payment method"})]}),(0,s.jsxs)(n.Wu,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Order Details"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Template:"}),(0,s.jsx)("span",{className:"text-white",children:d.name})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Cost:"}),(0,s.jsx)("span",{className:"text-orange-400 font-semibold",children:d.cost})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Deployment Time:"}),(0,s.jsx)("span",{className:"text-white",children:d.deploymentTime})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Payment Method"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"paymentMethod",value:"wallet",checked:"wallet"===k,onChange:e=>C(e.target.value),className:"text-orange-500 focus:ring-orange-500"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(h,{className:"h-5 w-5 text-orange-400"}),(0,s.jsx)("span",{className:"text-white",children:"Wallet Payment (Recommended)"})]})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"paymentMethod",value:"card",checked:"card"===k,onChange:e=>C(e.target.value),className:"text-orange-500 focus:ring-orange-500"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(x,{className:"h-5 w-5 text-orange-400"}),(0,s.jsx)("span",{className:"text-white",children:"Credit Card (Coming Soon)"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(l.$,{onClick:()=>y("configure"),variant:"outline",className:"flex-1 border-white/20 text-white hover:bg-white/10",children:"Back"}),(0,s.jsx)(l.$,{onClick:D,disabled:S,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white",children:S?"Processing...":"Pay ".concat(d.cost)})]})]})]})]}),"deploying"===w&&(0,s.jsx)("div",{className:"max-w-2xl mx-auto text-center",children:(0,s.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-8 border border-white/10",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(u.A,{className:"w-8 h-8 text-white"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Deploying Your Security Trap"}),(0,s.jsx)("p",{className:"text-gray-300 mb-6",children:"Please wait while we deploy your security trap to the blockchain"}),(0,s.jsx)("div",{className:"w-full bg-white/10 rounded-full h-3 mb-6",children:(0,s.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 h-3 rounded-full transition-all duration-300",style:{width:"".concat(b,"%")}})}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[b,"% Complete"]})]})}),"success"===w&&(0,s.jsx)("div",{className:"max-w-2xl mx-auto text-center",children:(0,s.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-8 border border-white/10",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(i.A,{className:"w-8 h-8 text-white"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Deployment Successful!"}),(0,s.jsx)("p",{className:"text-gray-300 mb-6",children:"Your security trap has been deployed successfully"}),(0,s.jsx)("div",{className:"bg-white/5 rounded-lg p-4 mb-6 text-left",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Contract Address:"}),(0,s.jsx)("span",{className:"text-white font-mono",children:E})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Transaction Hash:"}),(0,s.jsx)("span",{className:"text-white font-mono",children:P})]})]})}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(l.$,{onClick:()=>y("select"),variant:"outline",className:"flex-1 border-white/20 text-white hover:bg-white/10",children:"Deploy Another"}),(0,s.jsx)(l.$,{onClick:()=>window.location.href="/app",className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white",children:"View Dashboard"})]})]})})]})]}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(c.A,{className:"w-12 h-12 text-white"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-4",children:"Connect Your Wallet"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:"Connect your wallet to deploy security traps"}),(0,s.jsx)(l.$,{className:"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white px-8 py-3 text-lg",onClick:()=>window.location.href="/",children:"Go Back to Home"})]})})}},892:(e,t,a)=>{Promise.resolve().then(a.bind(a,762))},1148:(e,t,a)=>{"use strict";a.d(t,{WalletProvider:()=>o,v:()=>n});var s=a(5155),r=a(2115);let l=(0,r.createContext)(void 0);function n(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useWallet must be used within a WalletProvider");return e}function o(e){let{children:t}=e,[a,n]=(0,r.useState)(!1),[o,c]=(0,r.useState)(null),[i,d]=(0,r.useState)(null),[m,h]=(0,r.useState)(null),[x,u]=(0,r.useState)(!1),[g,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=localStorage.getItem("oneclick_jwt_token"),t=localStorage.getItem("oneclick_wallet_address");e&&t&&(console.log("\uD83D\uDD04 Restoring wallet connection from localStorage..."),h(e),c(t),n(!0),u(!0),(async()=>{try{let e=p();if(e){let a=await e.request({method:"eth_accounts"});a.length>0&&a[0].toLowerCase()===t.toLowerCase()?(console.log("✅ Wallet still connected, restoring full state"),c(a[0]),n(!0),u(!0),e.on&&(e.on("accountsChanged",async e=>{if(console.log("\uD83D\uDD04 Account changed:",e),0===e.length)b();else{let t=e[0];c(t);let a=await w(t);a?(h(a),u(!0)):(u(!1),h(null))}}),e.on("chainChanged",e=>{console.log("\uD83D\uDD04 Chain changed:",e),d(parseInt(e,16))}))):(console.log("⚠️ Saved account no longer connected, clearing state"),b())}else console.log("⚠️ No wallet provider available, clearing state"),b()}catch(e){console.error("❌ Error reconnecting wallet:",e),b()}})());let s=async()=>{if(a&&o){console.log("\uD83D\uDD04 Window focused, checking wallet status...");try{let e=p();if(e){let t=await e.request({method:"eth_accounts"});(0===t.length||t[0].toLowerCase()!==o.toLowerCase())&&(console.log("⚠️ Wallet disconnected, updating state"),b())}}catch(e){console.error("❌ Error checking wallet status on focus:",e)}}};return window.addEventListener("focus",s),()=>{window.removeEventListener("focus",s)}},[a,o]);let p=()=>{try{var e,t;if(null==(e=window.ethereum)?void 0:e.isMetaMask)return console.log("✅ Found MetaMask provider"),window.ethereum;if(window.ethereum)return console.log("✅ Found generic ethereum provider"),window.ethereum;let a=[window.binanceChain,window.coinbaseWalletExtension,null==(t=window.phantom)?void 0:t.ethereum,window.trustwallet].filter(Boolean);if(a.length>0)return console.log("✅ Found alternative wallet provider:",a[0]),a[0];return console.log("❌ No wallet providers found"),null}catch(e){return console.error("Error detecting wallet providers:",e),null}},w=async e=>{try{let t,a=p();if(!a)throw Error("No wallet provider available");let s="Connect to One Click Security\n\nWallet: ".concat(e,"\nTimestamp: ").concat(Date.now(),'\n\nClick "Sign" to authenticate with the backend.');try{t=await a.request({method:"personal_sign",params:[s,e]})}catch(e){if(4001===e.code)throw Error("User rejected the signature request");throw e}let r=await fetch("https://one-click-c308.onrender.com/api/auth/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:e,signature:t,message:s})});if(r.ok){let t=await r.json();if(t.success&&t.token)return localStorage.setItem("oneclick_jwt_token",t.token),localStorage.setItem("oneclick_wallet_address",e),t.token}throw Error("Authentication failed")}catch(e){return console.error("Backend authentication error:",e),null}},y=async()=>{try{let e;f(null),console.log("\uD83D\uDD0D Attempting to connect wallet...");let t=p();if(!t){console.log("❌ No wallet provider found"),f("No wallet provider found. Please install MetaMask or another compatible wallet.");return}console.log("✅ Wallet provider found, requesting accounts...");try{e=await t.request({method:"eth_requestAccounts"}),console.log("✅ Accounts received:",e)}catch(e){if(console.error("❌ Account request failed:",e),4001===e.code)return void f("User rejected the connection request");throw e}if(e.length>0){let a=e[0];console.log("✅ Setting wallet address:",a),c(a),n(!0);try{let e=await t.request({method:"eth_chainId"});console.log("✅ Chain ID received:",e),d(parseInt(e,16))}catch(e){console.warn("⚠️ Failed to get chain ID:",e)}console.log("\uD83D\uDD10 Authenticating with backend...");let s=await w(a);s?(h(s),u(!0),console.log("✅ Successfully authenticated with backend")):(console.error("❌ Failed to authenticate with backend"),f("Failed to authenticate with backend. Please try again.")),t.on&&(t.on("accountsChanged",async e=>{if(console.log("\uD83D\uDD04 Account changed:",e),0===e.length)b();else{let t=e[0];c(t);let a=await w(t);a?(h(a),u(!0)):(u(!1),h(null))}}),t.on("chainChanged",e=>{console.log("\uD83D\uDD04 Chain changed:",e),d(parseInt(e,16))}))}else console.log("❌ No accounts received"),f("No accounts found. Please unlock your wallet and try again.")}catch(e){console.error("❌ Error connecting wallet:",e),f(e.message||"Failed to connect wallet. Please try again.")}},b=()=>{console.log("\uD83D\uDD0C Disconnecting wallet..."),n(!1),u(!1),c(null),d(null),h(null),f(null),localStorage.removeItem("oneclick_jwt_token"),localStorage.removeItem("oneclick_wallet_address")};return(0,s.jsx)(l.Provider,{value:{isConnected:a,address:o,chainId:i,token:m,connect:y,disconnect:b,manualDisconnect:()=>{console.log("\uD83D\uDD0C Manual wallet disconnect..."),n(!1),u(!1),c(null),d(null),h(null),f(null),localStorage.removeItem("oneclick_jwt_token"),localStorage.removeItem("oneclick_wallet_address")},isAuthenticated:x,walletError:g},children:t})}},1539:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},6126:(e,t,a)=>{"use strict";a.d(t,{E:()=>o});var s=a(5155);a(2115);var r=a(2085),l=a(9434);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)(n({variant:a}),t),...r})}},6695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>i,Wu:()=>d,ZB:()=>c,Zp:()=>n,aR:()=>o});var s=a(5155),r=a(2115),l=a(9434);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});n.displayName="Card";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});o.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});i.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var s=a(2596),r=a(9688);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}}},e=>{e.O(0,[782,441,964,358],()=>e(e.s=892)),_N_E=e.O()}]);