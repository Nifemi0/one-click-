(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{646:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4357:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},5525:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},7595:(e,t,a)=>{Promise.resolve().then(a.bind(a,9604))},7924:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9604:(e,t,a)=>{"use strict";a.d(t,{default:()=>h});var r=a(5155),s=a(2115),l=a(9946);let c=(0,l.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var n=a(646),i=a(5525),o=a(7924),d=a(4357);let x=(0,l.A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function h(){let[e,t]=(0,s.useState)(null),[a,l]=(0,s.useState)([]),[h,m]=(0,s.useState)(!0),[g,p]=(0,s.useState)(null),[y,u]=(0,s.useState)(""),[j,N]=(0,s.useState)("all"),[b,v]=(0,s.useState)(null),f="http://5.231.28.234:3001";(0,s.useEffect)(()=>{w()},[]);let w=async()=>{try{m(!0),p(null);let e=await fetch("".concat(f,"/api/drosera-registry/stats"));if(e.ok){let a=await e.json();t(a.data)}let a=await fetch("".concat(f,"/api/drosera-registry/traps?page=0&pageSize=20"));if(a.ok){let e=await a.json();l(e.data||[])}}catch(e){console.error("Failed to fetch registry data:",e),p("Failed to load registry data. Please try again later.")}finally{m(!1)}},A=async(e,t)=>{try{await navigator.clipboard.writeText(e),v(t),setTimeout(()=>v(null),2e3)}catch(e){console.error("Failed to copy to clipboard:",e)}},k=e=>"".concat(e.slice(0,6),"...").concat(e.slice(-4)),C=e=>new Date(1e3*e).toLocaleDateString(),L=a.filter(e=>{let t=e.trapName.toLowerCase().includes(y.toLowerCase())||e.description.toLowerCase().includes(y.toLowerCase())||e.contractAddress.toLowerCase().includes(y.toLowerCase()),a="all"===j||e.trapType.toLowerCase()===j.toLowerCase();return t&&a});return h?(0,r.jsx)("div",{className:"min-h-screen bg-black text-white p-8",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-800 rounded w-1/3 mb-8"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[1,2,3].map(e=>(0,r.jsx)("div",{className:"h-32 bg-gray-800 rounded"},e))}),(0,r.jsx)("div",{className:"h-96 bg-gray-800 rounded"})]})})}):g?(0,r.jsx)("div",{className:"min-h-screen bg-black text-white p-8",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(c,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Registry Error"}),(0,r.jsx)("p",{className:"text-gray-400 mb-6",children:g}),(0,r.jsx)("button",{onClick:w,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Try Again"})]})})}):(0,r.jsx)("div",{className:"min-h-screen bg-black text-white p-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,r.jsx)(i.A,{className:"w-12 h-12 text-orange-500 mr-4"}),(0,r.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-orange-500 to-red-600 bg-clip-text text-transparent",children:"Drosera Registry"})]}),(0,r.jsx)("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Central registry for all deployed security traps on Hoodi testnet. Track, monitor, and manage your security infrastructure."})]}),e&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[(0,r.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-orange-500 mb-2",children:e.totalTraps}),(0,r.jsx)("div",{className:"text-gray-400",children:"Total Traps"})]}),(0,r.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-green-500 mb-2",children:e.activeTraps}),(0,r.jsx)("div",{className:"text-gray-400",children:"Active Traps"})]}),(0,r.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-blue-500 mb-2",children:e.totalDeployers}),(0,r.jsx)("div",{className:"text-gray-400",children:"Total Deployers"})]})]}),(0,r.jsx)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6 mb-8",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,r.jsx)("input",{type:"text",placeholder:"Search traps by name, description, or address...",value:y,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})}),(0,r.jsx)("div",{className:"md:w-48",children:(0,r.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,r.jsx)("option",{value:"all",children:"All Types"}),(0,r.jsx)("option",{value:"Honeypot",children:"Honeypot"}),(0,r.jsx)("option",{value:"ReentrancyGuard",children:"Reentrancy Guard"}),(0,r.jsx)("option",{value:"FlashLoanProtection",children:"Flash Loan Protection"}),(0,r.jsx)("option",{value:"MEVProtection",children:"MEV Protection"}),(0,r.jsx)("option",{value:"AccessControl",children:"Access Control"})]})})]})}),(0,r.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-800",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"Registered Traps"}),(0,r.jsxs)("p",{className:"text-gray-400 text-sm mt-1",children:["Showing ",L.length," of ",a.length," traps"]})]}),0===L.length?(0,r.jsxs)("div",{className:"p-12 text-center",children:[(0,r.jsx)(i.A,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No Traps Found"}),(0,r.jsx)("p",{className:"text-gray-500",children:y||"all"!==j?"Try adjusting your search or filters":"No traps have been registered yet"})]}):(0,r.jsx)("div",{className:"divide-y divide-gray-800",children:L.map(e=>{var t;return(0,r.jsx)("div",{className:"p-6 hover:bg-gray-800 transition-colors",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 ".concat(((e,t)=>{if(!t)return"text-red-500";switch(e.toLowerCase()){case"active":return"text-green-500";case"inactive":return"text-yellow-500";case"disabled":return"text-red-500";default:return"text-gray-500"}})(e.status,e.isActive)),children:[(t=e.status,e.isActive&&"active"===t.toLowerCase()?(0,r.jsx)(n.A,{className:"w-4 h-4"}):(0,r.jsx)(c,{className:"w-4 h-4"})),(0,r.jsx)("span",{className:"text-sm font-medium",children:e.status})]}),(0,r.jsx)("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded",children:e.trapType}),(0,r.jsxs)("span",{className:"px-2 py-1 bg-orange-500/20 text-orange-400 text-xs rounded",children:["#",e.trapId]})]}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:e.trapName}),(0,r.jsx)("p",{className:"text-gray-400 mb-3",children:e.description}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[(0,r.jsxs)("span",{children:["Deployed: ",C(e.deploymentTimestamp)]}),(0,r.jsxs)("span",{children:["Last Activity: ",C(e.lastActivity)]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 min-w-fit",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-800 rounded-lg",children:[(0,r.jsx)("span",{className:"text-sm text-gray-400",children:"Contract:"}),(0,r.jsx)("span",{className:"font-mono text-sm",children:k(e.contractAddress)}),(0,r.jsx)("button",{onClick:()=>A(e.contractAddress,"contract-".concat(e.trapId)),className:"text-gray-400 hover:text-white transition-colors",children:b==="contract-".concat(e.trapId)?(0,r.jsx)(n.A,{className:"w-4 h-4 text-green-500"}):(0,r.jsx)(d.A,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-800 rounded-lg",children:[(0,r.jsx)("span",{className:"text-sm text-gray-400",children:"Deployer:"}),(0,r.jsx)("span",{className:"font-mono text-sm",children:k(e.deployer)}),(0,r.jsx)("button",{onClick:()=>A(e.deployer,"deployer-".concat(e.trapId)),className:"text-gray-400 hover:text-white transition-colors",children:b==="deployer-".concat(e.trapId)?(0,r.jsx)(n.A,{className:"w-4 h-4 text-green-500"}):(0,r.jsx)(d.A,{className:"w-4 h-4"})})]}),(0,r.jsxs)("a",{href:"https://hoodi.etherscan.io/address/".concat(e.contractAddress),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,r.jsx)(x,{className:"w-4 h-4"}),"View on Explorer"]})]})]})},e.trapId)})})]}),(0,r.jsx)("div",{className:"text-center mt-12 text-gray-500",children:(0,r.jsx)("p",{className:"text-sm",children:"All traps are automatically registered upon deployment. Users can then register their own operators to monitor these traps."})})]})})}},9946:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(2115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:d,iconNode:x,...h}=e;return(0,r.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:a,strokeWidth:i?24*Number(n)/Number(s):n,className:l("lucide",o),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...x.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let a=(0,r.forwardRef)((a,c)=>{let{className:i,...o}=a;return(0,r.createElement)(n,{ref:c,iconNode:t,className:l("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...o})});return a.displayName=s(e),a}}},e=>{e.O(0,[441,964,358],()=>e(e.s=7595)),_N_E=e.O()}]);